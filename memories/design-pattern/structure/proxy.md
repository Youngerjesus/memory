# Proxy

***

Proxy 란 뜻은 대리인이다.

특정한 객체의 오퍼레이션을 직접적인 접근을 하는게 아니라 프록시를 통해서 접근을 하도록 하는 패턴이다.

- 이를 통해서 객체의 지연로딩을 지원해주거나 권한을 통한 접근 제어를 제공해줄 수도 있고, 로깅과 캐싱을 적용하는 것도 가능하다.
- 물론 프록시 없이 클라이언트에서 필요한 기능을 추가할 수도 있다. 이는 클라이언트 코드를 읽기 어려운, 의도를 알기 어렵도록 한다.
    - 코드는 관심사가 같아야한다.


### 장점

- 기존 코드 변경없이 새로운 프록시 클래스를 통해서 기능을 추가할 수 있다는 것.
- 디양한 활용 방법을 제공해줄 수 있다.

### 단점

- 클래스 구조가 복잡해질 수 있다.

### 실제로 사용하는 예

런타임에 프록시 인스턴스를 만드는 다이나믹 프록시 라는 방법을 제공해준다.

- 자바 리플렉션을 통해서 인스턴스를 감싸는 프록시 객체를 만드는 방법이다.

```java
Proxy.newProxyInstance(this.getClass().getClassLoader(),
	new Class[]{target.getClass(), (proxy, method, arg) -> {
		method.invoke(target, args); 
	}};
```