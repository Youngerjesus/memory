# Flyweight

***

flyweight 뜻은 가볍다라는 뜻이다.

주로 인스턴스를 많이 생성하는 어플리케이션에서 메모리의 효율성을 제공하기 위해 재사용할 수 있는 객체를 만드는 패턴이다.

- 자주 변하는 속성과 (extrinsit) , 변하지 않는 속성 (intrinsit) 을 분리해서 재사용한다.
- FlyweightFactory 를 통해서 캐싱을 해두고 제공함으로써 재사용하는 방식을 말한다.
- **미리 객체를 만들어 두는 것과 어떤 차이가 있을까? (디자인 패턴 적용과 그의 다른 대안을 비교해보면면서 느껴보는 것도 좋다.)**

### 장점

- 애플리케이션에서 사용하는 메모리를 줄일 수 있다.

### 단점

- 어플리케이션에서 복잡도가 증가한다.

### 실제로 사용하는 예제

```java
Integer i1 = Integer.valueOf(10); 
Integer i2 = Integer.valueOf(10); 
```

- Integer 에서 valueOf() 메소드는 자주 사용하므로 캐싱을 해놓고 사용한다.
- 그래서 Integer 의 경우 조심해야하는데 캐싱의 범위는 -128 ~ 127 이다.  캐싱을 뛰어넘는 범위 (예: 10000) 에서 의 비교 (예: i1 == i2) 는 false 가 나온다. equals() 메소드를 쓰면 문제없지만.