# 시스템 간 비동기 연동 4종 세트 

## 1. 메시징 시스템을 두어서 비동기 시스 연동 

Kafka 나 RabbitMQ 를 사용하는 것. 

- 장점 
  - 높은 처리량 
- 단점 
  - 메시지 유실과 재전송 
  - 트랜잭션 연동 
    - DB 에서 롤백이 나는 경우 어떻게 할 건가
  - 메시지 순서 


## 2. DB 사용 

DB 에 연동 데이터를 기록하는 것. 보내고 싶은 정보를 기록. 

별도의 연동 시스템이 이를 주기적으로 확인하고 이를 다른 시스템에 보내는 것.

- 장점
  - 트랜잭션 보장 
  - 메시지 유실이 없다

- 단점 
  - 데이터 규모에 의존
  - 범용성 

### 1 + 2 혼합

- 장점
  - 트랜잭션 적용 
  - 높은 처리량
- 단점 
  - 딱히 없음 
  - 범용성 문제? 

## 3. 배치 + 파일 전송 

주기적으로 파일을 만들어서 전송 

- 장점 
  - 트랜잭션 보장 
- 검토 
  - 처리 주기
  - 일괄전송을 한다는 점

## 4. CDC (change data capture)

DB 의 변경 내역을 조회. 이를 로그를 바탕으로 조히하는 것. 

이 내역을 메시징 시스템을 통해서 전송하거나 다른 방식을 써서 전송함

- 장점 
  - 어플리케이션 로직 단순
  - 트랜잭션 보장 
- 단점
  - DB 

## 공통 고려사항
 
- 재전송과 재처리
- 멱등성 보장 
- 실패의 대응